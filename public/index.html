<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz App</title>
    <link rel="stylesheet" href="styles.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div class="container">
        <!-- Home Screen -->
        <div id="home-screen" class="screen active">
            <div class="header">
                <h1>üéØ Quiz App</h1>
                <p>Gioca ai quiz in tempo reale con i tuoi amici!</p>
            </div>
            
            <div class="main-content">
                <div class="action-buttons">
                    <button id="create-game-btn" class="btn btn-primary">
                        <span>üéÆ</span>
                        Crea Partita
                    </button>
                    
                    <button id="join-game-btn" class="btn btn-secondary">
                        <span>üë•</span>
                        Unisciti alla Partita
                    </button>
                </div>
                
                <div class="info-section">
                    <h3>Come funziona:</h3>
                    <ul>
                        <li>Crea una partita o unisciti usando un codice</li>
                        <li>Aspetta che tutti i giocatori si uniscano</li>
                        <li>Rispondi alle domande il pi√π velocemente possibile</li>
                        <li>Vinci punti per le risposte corrette e la velocit√†!</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Create Game Screen -->
        <div id="create-game-screen" class="screen">
            <div class="header">
                <h2>Crea Nuova Partita</h2>
                <button id="back-to-home" class="btn-back">‚Üê Indietro</button>
            </div>
            
            <div class="form-section">
                <h3>Seleziona Quiz:</h3>
                <select id="quiz-select" class="form-control">
                    <option value="">Caricamento quiz...</option>
                </select>
                
                 <button id="create-sample-quiz-btn" class="btn btn-link">
                    Oppure crea un quiz di esempio
                </button>
                
                <button id="create-match-btn" class="btn btn-primary" disabled>
                    Crea Partita
                </button>
            </div>
            
            <div id="match-created" class="success-section" style="display: none;">
                <h3>‚úÖ Partita Creata!</h3>
                <div class="match-code">
                    <p>Codice Partita:</p>
                    <div id="created-match-code" class="code-display"></div>
                </div>
                <button id="start-as-host-btn" class="btn btn-success">
                    Unisciti alla Partita
                </button>
            </div>
        </div>

        <!-- Join Game Screen -->
        <div id="join-game-screen" class="screen">
            <div class="header">
                <h2>Unisciti alla Partita</h2>
                <button id="back-to-home-2" class="btn-back">‚Üê Indietro</button>
            </div>
            
            <div class="form-section">
                <div class="input-group">
                    <label for="match-code-input">Codice Partita:</label>
                    <input type="text" id="match-code-input" class="form-control" 
                           placeholder="Inserisci il codice a 6 caratteri" maxlength="6">
                </div>
                
                <div class="input-group">
                    <label for="nickname-input">Il tuo Nickname:</label>
                    <input type="text" id="nickname-input" class="form-control" 
                           placeholder="Inserisci il tuo nome" maxlength="20">
                </div>
                
                <button id="join-match-btn" class="btn btn-primary">
                    Unisciti alla Partita
                </button>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobby-screen" class="screen">
            <div class="header">
                <h2>Lobby</h2>
                <div class="match-info">
                    <span>Codice: <strong id="lobby-match-code"></strong></span>
                </div>
            </div>
            
            <div class="lobby-content">
                <div class="players-section">
                    <h3>Giocatori (<span id="player-count">0</span>):</h3>
                    <div id="players-list" class="players-list"></div>
                </div>
                
                <div class="ready-section">
                    <button id="ready-btn" class="btn btn-success">
                        Sono Pronto!
                    </button>
                    <p id="ready-status">In attesa che tutti i giocatori siano pronti...</p>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="question-progress">
                    <span id="question-number">1</span> di <span id="total-questions">10</span>
                </div>
                <div class="timer">
                    <div id="timer-circle" class="timer-circle">
                        <span id="timer-text">30</span>
                    </div>
                </div>
            </div>
            
            <div class="question-section">
                <h2 id="question-text">Caricamento domanda...</h2>
                <div id="answers-container" class="answers-container">
                    <!-- Le risposte vengono generate dinamicamente -->
                </div>
            </div>
            
            <div id="waiting-message" class="waiting-section" style="display: none;">
                <p>‚úÖ Risposta inviata! In attesa degli altri giocatori...</p>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="screen">
            <div class="header">
                <h2>üèÜ Risultati Finali</h2>
            </div>
            
            <div class="results-content">
                <div id="final-results" class="results-table">
                    <!-- I risultati vengono generati dinamicamente -->
                </div>
                
                <div class="action-buttons">
                    <button id="new-game-btn" class="btn btn-primary">
                        Nuova Partita
                    </button>
                    <button id="home-btn" class="btn btn-secondary">
                        Torna alla Home
                    </button>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="spinner"></div>
            <p id="loading-text">Caricamento...</p>
        </div>

        <!-- Error Messages -->
        <div id="error-toast" class="error-toast" style="display: none;">
            <span id="error-message"></span>
            <button id="close-error" class="close-btn">√ó</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
